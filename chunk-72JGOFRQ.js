import{d as I,e as O,f as S,g as F,m as E,p as T,r as k,s as z,u as A}from"/helpmate/chunk-5N7ZSXSE.js";import{A as x,E as p,K as d,L as n,M as i,N as h,T as w,U as _,V as m,ca as s,da as g,ea as v,l as f,o as b,p as C,pa as y,ra as M,ta as P,w as a}from"/helpmate/chunk-XW3DN6CP.js";import"/helpmate/chunk-GW5QR4VJ.js";import"/helpmate/chunk-3EHC6P4G.js";import"/helpmate/chunk-HQT4WU2A.js";import"/helpmate/chunk-BHIBFBKS.js";import"/helpmate/chunk-V3KY7ZMJ.js";import"/helpmate/chunk-U6X5N3E5.js";import"/helpmate/chunk-4WFVMWDK.js";import"/helpmate/chunk-M2X7KQLB.js";import"/helpmate/chunk-DVVH2KKN.js";import"/helpmate/chunk-NV3QH4JK.js";import"/helpmate/chunk-SQPXQ2FV.js";import"/helpmate/chunk-OZYWYLNK.js";import"/helpmate/chunk-42C7ZIID.js";import{f as u}from"/helpmate/chunk-S5EYVFES.js";function L(t,r){t&1&&(n(0,"div")(1,"ion-title"),s(2,"LawAIr"),i()())}function B(t,r){if(t&1&&(n(0,"div")(1,"ion-title"),s(2),i()()),t&2){let l=m();a(2),g(l.folder)}}function j(t,r){t&1&&(n(0,"div",12),h(1,"ion-spinner",13),n(2,"p"),s(3,"Loading AI Assistant..."),i()())}function D(t,r){if(t&1){let l=w();n(0,"div",14),h(1,"ion-icon",15),n(2,"p"),s(3),i(),n(4,"ion-button",16),_("click",function(){b(l);let o=m(2);return C(o.initializeChatbot())}),h(5,"ion-icon",17),s(6," Retry "),i()()}if(t&2){let l=m(2);a(3),g(l.chatbotError)}}function H(t,r){if(t&1&&(n(0,"div",7)(1,"div",8),h(2,"ion-icon",9),n(3,"h2"),s(4,"AI Assistant"),i(),n(5,"p"),s(6,"Chat with our intelligent assistant for help and support"),i()(),p(7,j,4,0,"div",10)(8,D,7,1,"div",11),h(9,"flowise-fullchatbot"),i()),t&2){let l=m();a(7),d("ngIf",l.isLoadingChatbot),a(),d("ngIf",l.chatbotError)}}function V(t,r){if(t&1&&(n(0,"div",18)(1,"strong",19),s(2),i(),n(3,"p"),s(4),i()()),t&2){let l=m();a(2),g(l.folder),a(2),v("This is the ",l.folder," folder. You can organize your content here.")}}var K=(()=>{let r=class r{constructor(){this.isLoadingChatbot=!1,this.chatbotError=null,this.chatbotInitialized=!1,this.activatedRoute=f(P)}ngOnInit(){this.folder=this.activatedRoute.snapshot.paramMap.get("id"),this.folder==="favorites"&&this.initializeChatbot()}ngOnDestroy(){this.destroyChatbot()}destroyChatbot(){try{document.querySelectorAll('flowise-fullchatbot, [id*="flowise"], [class*="flowise"]').forEach(o=>{o.remove()}),this.chatbotInitialized=!1,console.log("Chatbot destroyed and cleaned up")}catch(e){console.error("Error destroying chatbot:",e)}}initializeChatbot(){return u(this,null,function*(){this.isLoadingChatbot=!0,this.chatbotError=null;try{if(yield this.loadFlowiseScript(),yield this.delay(1e3),window.Chatbot)window.Chatbot.initFull({chatflowid:"5229dfe0-b516-48b1-b18e-c6cb4f10081f",apiHost:"https://cloud.flowiseai.com",chatflowConfig:{},observersConfig:{},theme:{button:{backgroundColor:"#3B81F6",right:20,bottom:20,size:48,dragAndDrop:!0,iconColor:"white",customIconSrc:"https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg",autoWindowOpen:{autoOpen:!0,openDelay:2,autoOpenOnMobile:!1}},tooltip:{showTooltip:!0,tooltipMessage:"Hi There \u{1F44B}!",tooltipBackgroundColor:"black",tooltipTextColor:"white",tooltipFontSize:16},disclaimer:{title:"Disclaimer",message:'By using this chatbot, you agree to the <a target="_blank" href="https://flowiseai.com/terms">Terms & Condition</a>',textColor:"black",buttonColor:"#3b82f6",buttonText:"Start Chatting",buttonTextColor:"white",blurredBackgroundColor:"rgba(0, 0, 0, 0.4)",backgroundColor:"white"},customCSS:"",chatWindow:{showTitle:!0,showAgentMessages:!0,title:"AI Assistant",titleAvatarSrc:"https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg",welcomeMessage:"Hello! How can I help you today?",errorMessage:"Sorry, something went wrong. Please try again.",backgroundColor:"#ffffff",backgroundImage:"",height:"100%",width:"100%",fontSize:16,starterPrompts:["Can you help me with Motor Vehicle act?","What is the mostly used law in Indian Motor Vehicle Act?","Tell me about the Indian Motor Vehicle Law in Detail"],starterPromptFontSize:15,clearChatOnReload:!1,sourceDocsTitle:"Sources:",renderHTML:!0,botMessage:{backgroundColor:"#f7f8ff",textColor:"#303235",showAvatar:!0,avatarSrc:"https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png"},userMessage:{backgroundColor:"#3B81F6",textColor:"#ffffff",showAvatar:!0,avatarSrc:"https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png"},textInput:{placeholder:"Type your question...",backgroundColor:"#ffffff",textColor:"#303235",sendButtonColor:"#3B81F6",maxChars:500,maxCharsWarningMessage:"Message too long. Please keep it under 500 characters.",autoFocus:!0,sendMessageSound:!1,sendSoundLocation:"",receiveMessageSound:!1,receiveSoundLocation:""},feedback:{color:"#303235"},dateTimeToggle:{date:!0,time:!0},footer:{textColor:"#303235",text:"Powered by",company:"Flowise AI",companyLink:"https://flowiseai.com"}}}}),this.chatbotInitialized=!0,console.log("Flowise chatbot initialized successfully");else throw new Error("Flowise Chatbot library not loaded")}catch(e){console.error("Failed to initialize Flowise chatbot:",e),this.chatbotError="Failed to load AI Assistant. Please check your internet connection and try again."}finally{this.isLoadingChatbot=!1}})}loadFlowiseScript(){return new Promise((e,o)=>{if(document.querySelector('script[src*="flowise-embed"]')){e();return}let c=document.createElement("script");c.type="module",c.src="https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js",c.onload=()=>{this.dynamicImportChatbot().then(()=>e()).catch(o)},c.onerror=()=>{o(new Error("Failed to load Flowise embed script"))},document.head.appendChild(c)})}dynamicImportChatbot(){return u(this,null,function*(){try{let o=yield new Function("url","return import(url)")("https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js");window.Chatbot=o.default}catch(e){throw console.error("Failed to import Flowise module:",e),e}})}delay(e){return new Promise(o=>setTimeout(o,e))}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=x({type:r,selectors:[["app-folder"]],decls:10,vars:6,consts:[[3,"translucent"],["slot","start"],[4,"ngIf"],[3,"fullscreen"],["id","container"],["class","chatbot-container",4,"ngIf"],["class","default-content",4,"ngIf"],[1,"chatbot-container"],[1,"chatbot-header"],["name","chatbubbles-outline","size","large","color","primary"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"loading-container"],["name","crescent","color","primary"],[1,"error-container"],["name","warning-outline","color","danger"],["fill","outline",3,"click"],["name","refresh-outline","slot","start"],[1,"default-content"],[1,"capitalize"]],template:function(o,c){o&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),h(3,"ion-menu-button"),i(),p(4,L,3,0,"div",2)(5,B,3,1,"div",2),i()(),n(6,"ion-content",3)(7,"div",4),p(8,H,10,2,"div",5)(9,V,5,2,"div",6),i()()),o&2&&(d("translucent",!0),a(4),d("ngIf",c.folder==="favorites"),a(),d("ngIf",c.folder!=="favorites"),a(),d("fullscreen",!0),a(2),d("ngIf",c.folder==="favorites"),a(),d("ngIf",c.folder!=="favorites"))},dependencies:[M,y,F,z,O,E,k,S,A,T,I],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.chatbot-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px}.chatbot-header[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center;display:flex;flex-direction:column;align-items:center;gap:15px;width:100%;max-width:400px}.chatbot-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px 0 5px;color:var(--ion-color-primary);font-size:24px;font-weight:600}.chatbot-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:40px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:14px}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:40px;max-width:300px}.error-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:14px;text-align:center}.default-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}flowise-fullchatbot[_ngcontent-%COMP%]{width:100%;height:100%;display:block}@media (max-width: 768px){#container[_ngcontent-%COMP%]{position:relative;top:auto;transform:none;padding:10px}.chatbot-container[_ngcontent-%COMP%]{height:100%;min-height:300px}.chatbot-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}}@media (prefers-color-scheme: dark){.chatbot-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-primary-tint)}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .chatbot-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium-tint)}}"]});let t=r;return t})();export{K as FolderPage};
